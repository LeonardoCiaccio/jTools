!function(e,t){function n(e){if(e=parseInt(e),1>e)return"0 byte";var t=1024,r=1024*t,n=1024*r;return t>e?e+" byte":r>e?Math.round(e/t*100)/100+" KB":n>e?Math.round(e/r*100)/100+" MB":Math.round(e/n*100)/100+" GB"}function a(e){return e?e.toUpperCase().indexOf("MP4")>-1?"MP4":e.toUpperCase().indexOf("WEBM")>-1?"WEBM":e.toUpperCase().indexOf("3GP")>-1?"3GP":"FLV":"unkown"}function i(e,t,r){try{if(t.addEventListener)t.addEventListener(e,r,!1);else if(t.attachEvent){t.attachEvent("on"+e,r)}return!0}catch(a){return!1}}function o(e){return e.trim().replace(/[^a-z 0-9]+/gi,"")}if(!e)return!1;var r=/^http(?:s?):\/\/www\.youtube\.com\/watch\?v\=/gi;window.YT={links:function(){var e,r=[];if(!t)return r;try{e=t.config.args.adaptive_fmts}catch(n){return r}try{for(var a=e.split(","),i=0;i<a.length;i++){for(var o=a[i].split("&"),l={},p=0;p<o.length;p++){var c=o[p].split("="),d=decodeURIComponent(c[0].toUpperCase()),s=decodeURIComponent(c[1]);switch(d){case"SIZE":l.size=s;break;case"CLEN":l.clen=s;break;case"URL":l.url=s;break;case"TYPE":l.type=s}}l.size&&l.clen&&l.url&&l.type&&r.push(l)}}catch(n){}return r},compat:function(t,r){t=t||"<a href='%U' data-lenght='%C' title='%F'>%T</a>",r=r||!1;for(var i=YT.links(),l=[],p=new RegExp("%S","gi"),c=new RegExp("%C","gi"),d=new RegExp("%U","gi"),s=new RegExp("%F","gi"),u=new RegExp("%T","gi"),f=0;f<i.length;f++){var h=r===!0?n(i[f].clen):i[f].clen,v=r===!0?a(i[f].type):i[f].type,w=o(e.title)+"."+a(i[f].type).toLowerCase(),g=t.replace(p,i[f].size).replace(c,h).replace(d,i[f].url).replace(s,w).replace(u,v);l.push(g)}return l},download:{button:function(){if(!r.test(e.location.href))return void alert("Use this bookmarklet on :\r\n https://www.youtube.com/watch?v=($video $code)");var t="YT-Links-Downloader";if(e.querySelector("#"+t))return!1;var n=e.createElement("div"),a=["width:100%","height:100%","top:0px","left:0px","background-color:rgba(255, 255, 255, 0.76)","overflow:hidden","z-index:9999999999","position:fixed"].join(";"),o=e.createElement("div"),l=["width:210px","height:auto","max-height:160px","top:50%","left:50%","margin-top:-80px","margin-left:-105px","background-color:white","box-shadow: 1px 1px 14px 1px #333333","padding:2em","overflow:auto","z-index:99999999999","position:fixed","text-align:left"].join(";"),p=YT.compat("<p style='margin-bottom: 3px;'><a onclick=\"alert( 'Right click then save as ...' );return false;\" href='%U' title='%F' download='%F'>%S [%C] [%T]</a></p>",!0);return n.setAttribute("style",a),n.setAttribute("id",t),e.body.appendChild(n),p=p.length>0?p.join(""):"<p>No Links :(</p>",o.setAttribute("style",l),o.innerHTML=p,e.body.appendChild(o),void i("click",n,function(){o.parentNode.removeChild(o),this.parentNode.removeChild(this)})},external:function(t){if(!r.test(e.location.href))return void alert("Use this bookmarklet on :\r\n https://www.youtube.com/watch?v=($video $code)");if(!t)return void 0;var n=e.location.href.split("watch?");if(2!=n.length)return!1;for(var a=n[1].split("&"),i=0;i<a.length;i++)if(a[i].indexOf("v=")>-1){var o=a[i].replace("v=","").trim(),l=t.replace(/(%E)/gi,o);window.open(l);break}return void 0}}}}(document,window.ytplayer);